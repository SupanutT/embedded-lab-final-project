<% layout('layouts/boilerplate') %>
<div class="container text-center">
    <div class="row mb-3">
        <h1>Dashboard</h1>
        <p class="font-weight-light text-muted mb-2">All information you need to know about sensors</p>
        <p class="font-weight-light text-muted fst-italic">Latest update on: <span id="latest-update"></span></p>
    </div>
    <div class="row row-cols-1 row-cols-md-3 g-4">
        <div class="col justify-content-center">
            <div class="card shadow p-3 mb-5 bg-white rounded">
                <div class="card-body">
                    <h1 class="card-title text-center mb-3 display-5"><strong>Fan</strong></h1>
                    <div id="spinning-fan-img" hidden>
                        <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDI2ZjQyNDc2YTE2OWNmNjY2YjQ4YjhiNGMzY2RiOWM0MWM3MWMxNCZlcD12MV9pbnRlcm5hbF9naWZzX2dpZklkJmN0PWc/2yhyprJKoysSjqhmyJ/giphy.gif"
                            class="card-img-top mx-auto d-block mb-3" alt="..." style="width: 8rem;">
                    </div>
                    <div id="fan-img">
                        <img src="https://imgtr.ee/images/2023/05/19/2KgFI.png" alt="..." style="width: 8rem;"
                            class="card-img-top mx-auto d-block mb-3">
                    </div>
                    <div class="card-text">
                        <p class="display-4" id="fan-data">--</p>
                        <p class="text-muted fst-italic">Range from 0 to 3</p>
                    </div>
                    <div class="text-center">
                        <a href="/api/graph" class="btn btn-outline-dark">View graph</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col justify-content-center">
            <div class="card shadow p-3 mb-5 bg-white rounded">
                <div class="card-body">
                    <h1 class="card-title text-center mb-3 display-5"><strong>Humidity</strong></h1>
                    <img src="https://i.ibb.co/c2g4Ffz/humidity.png" class="card-img-top mx-auto d-block mb-3" alt="..."
                        style="width: 8rem;">
                    <div class="card-text">
                        <p class="display-4"><span id="humid-data">--</span>%</p>
                        <p>Highest <span id="humid-high">-</span>% | Lowest <span id="humid-low">-</span>%</p>
                    </div>
                    <div class="text-center">
                        <a href="/api/graph" class="btn btn-outline-dark">View graph</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col justify-content-center" id="temp-div">
            <div class="card shadow p-3 mb-5 bg-white rounded">
                <div class="card-body">
                    <h1 class="card-title text-center mb-3 display-5"><strong>Temp</strong></h1>
                    <img src="https://i.ibb.co/j59wh9s/hot.png" class="card-img-top mx-auto d-block mb-3" alt="..."
                        style="width: 8rem;">
                    <div class="card-text">
                        <p class="display-4"><span id="temp-data">--</span>&deg;C</p>
                        <p>Highest <span id="temp-high">-</span>&deg;C | Lowest <span id="temp-low">-</span>&deg;C</p>
                    </div>
                    <div class="text-center">
                        <a href="/api/graph" class="btn btn-outline-dark">View graph</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script type="module" src="./script/dashboard.js"></script>